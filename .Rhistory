library(dplyr)
library(tidyverse)
library(cowplot)
library(ggplot2)
Route_28<-read_csv("../data/MBTA_Fall_Route_28_Bus_Ridership_2016_2019.csv")
source('~/Desktop/MIT_IDSS_Meetings/Transit_Authority_Bus_Data/MBTA-Ridership-Model/Route_28_Ridership_Distribution2.R', echo=TRUE)
source('~/Desktop/MIT_IDSS_Meetings/Transit_Authority_Bus_Data/MBTA-Ridership-Model/Route_28_Ridership_Distribution2.R', echo=TRUE)
source('~/Desktop/MIT_IDSS_Meetings/Transit_Authority_Bus_Data/MBTA-Ridership-Model/Route_28_Ridership_Distribution2.R', echo=TRUE)
library(dplyr)
library(tidyverse)
library(cowplot)
library(ggplot2)
Route_28<-read_csv("https://raw.githubusercontent.com/jtourkis/MBTA-Ridership-Model/master/data/MBTA_Fall_Route_28_Bus_Ridership_2016_2019.csv?token=AQQA7YPYIHOXM2XYSKESGTS7GSYQY")
plot_28 <- ggplot(Route_28, aes(x=average_ons)) +
geom_density()
print(plot_28)
Route_28_Peak_AM<-filter(Route_28, time_period_name=="AM_PEAK" )
plot_28_Peak_AM <- ggplot(Route_28_Peak_AM, aes(x=average_ons)) +
geom_density()
print(plot_28_Peak_AM)
#####Find Route 28 Mode###
density1<-density(Route_28_Peak_AM$average_ons)
ggplot(data.frame(x = density1$x, y = density1$y), aes(x, y)) +
geom_density(stat = "identity", fill = 'burlywood', alpha = 0.3)
density1$x[which.max(density1$y)]
mean(Route_28_Peak_AM$average_ons)
####Testing For Negative Binomial Boarding####
####AM Peak####
route_28_boarding<-data.frame(table(round(Route_28_Peak_AM$average_ons)))
route_28_boarding$Var1<-as.numeric(route_28_boarding$Var1)
print(route_28_boarding)
#####Estimated Mean#####
riders_x_frequency<-route_28_boarding$Freq*route_28_boarding$Var1
riders_squared<-route_28_boarding$Var1^2
m<- sum(sum_riders_x_frequency)/sum(route_28_boarding$Freq)
library(dplyr)
library(tidyverse)
library(cowplot)
library(ggplot2)
Route_28<-read_csv("https://raw.githubusercontent.com/jtourkis/MBTA-Ridership-Model/master/data/MBTA_Fall_Route_28_Bus_Ridership_2016_2019.csv?token=AQQA7YPYIHOXM2XYSKESGTS7GSYQY")
plot_28 <- ggplot(Route_28, aes(x=average_ons)) +
geom_density()
print(plot_28)
Route_28_Peak_AM<-filter(Route_28, time_period_name=="AM_PEAK" )
plot_28_Peak_AM <- ggplot(Route_28_Peak_AM, aes(x=average_ons)) +
geom_density()
print(plot_28_Peak_AM)
#####Find Route 28 Mode###
density1<-density(Route_28_Peak_AM$average_ons)
ggplot(data.frame(x = density1$x, y = density1$y), aes(x, y)) +
geom_density(stat = "identity", fill = 'burlywood', alpha = 0.3)
density1$x[which.max(density1$y)]
mean(Route_28_Peak_AM$average_ons)
####Testing For Negative Binomial Boarding####
####AM Peak####
route_28_boarding<-data.frame(table(round(Route_28_Peak_AM$average_ons)))
route_28_boarding$Var1<-as.numeric(route_28_boarding$Var1)
print(route_28_boarding)
#####Estimated Mean#####
riders_x_frequency<-route_28_boarding$Freq*route_28_boarding$Var1
riders_squared<-route_28_boarding$Var1^2
#####Simulate Predicted Values####
N <- sum(route_28_boarding$Freq)
####size is r#####
####N is sample size
par(mfrow=c(2,1))
# Set seed for reproducibility
set.seed(13535)
y_geom <- rnbinom(N, size = 1, prob = p_MLE)
N <- sum(route_28_boarding$Freq)
y_geom <- rnbinom(N, size = 1, prob = p_MLE)
library(dplyr)
library(tidyverse)
library(cowplot)
library(ggplot2)
Route_28<-read_csv("https://raw.githubusercontent.com/jtourkis/MBTA-Ridership-Model/master/data/MBTA_Fall_Route_28_Bus_Ridership_2016_2019.csv?token=AQQA7YPYIHOXM2XYSKESGTS7GSYQY")
p_MLE<- 1/(Xn+1)
Route_28<-read_csv("https://raw.githubusercontent.com/jtourkis/MBTA-Ridership-Model/master/data/MBTA_Fall_Route_28_Bus_Ridership_2016_2019.csv?token=AQQA7YPYIHOXM2XYSKESGTS7GSYQY")
source('~/Desktop/MIT_IDSS_Meetings/Transit_Authority_Bus_Data/MBTA-Ridership-Model/Route_28_Ridership_Distribution2.R', echo=TRUE)
source('~/Desktop/MIT_IDSS_Meetings/Transit_Authority_Bus_Data/MBTA-Ridership-Model/Route_28_Ridership_Distribution2.R', echo=TRUE)
library(dplyr)
library(tidyverse)
library(cowplot)
library(ggplot2)
Route_28<-read_csv("https://raw.githubusercontent.com/jtourkis/MBTA-Ridership-Model/master/data/MBTA_Fall_Route_28_Bus_Ridership_2016_2019.csv?token=AQQA7YPYIHOXM2XYSKESGTS7GSYQY")
library(dplyr)
library(tidyverse)
library(cowplot)
library(ggplot2)
#library(RCurl)
#x <- getURL("https://raw.github.com/aronlindberg/latent_growth_classes/master/LGC_data.csv")
# <- read.csv(text = x)
Route_28<-read_csv("https://raw.githubusercontent.com/jtourkis/MBTA-Ridership-Model/master/data/MBTA_Fall_Route_28_Bus_Ridership_2016_2019.csv")
library(RCurl)
Route_28<-read_csv(getURL("https://raw.githubusercontent.com/jtourkis/MBTA-Ridership-Model/master/data/MBTA_Fall_Route_28_Bus_Ridership_2016_2019.csv"))
library(RCurl)
x<-getURL("https://raw.githubusercontent.com/jtourkis/MBTA-Ridership-Model/master/data/MBTA_Fall_Route_28_Bus_Ridership_2016_2019.csv")
Route_28<-read_csv(x)
x<-getURL("https://raw.githubusercontent.com/jtourkis/MBTA-Ridership-Model/master/data/MBTA_Fall_Route_28_Bus_Ridership_2016_2019.csv")
Route_28<-read.csv(x)
x<-getURL("https://raw.githubusercontent.com/jtourkis/MBTA-Ridership-Model/master/data/MBTA_Fall_Route_28_Bus_Ridership_2016_2019.csv")
Route_28<-read.csv(text=x)
library(dplyr)
library(tidyverse)
library(cowplot)
library(ggplot2)
#library(RCurl)
#x <- getURL("https://raw.github.com/aronlindberg/latent_growth_classes/master/LGC_data.csv")
# <- read.csv(text = x)
library(RCurl)
x<-getURL("https://raw.githubusercontent.com/jtourkis/MBTA-Ridership-Model/master/data/MBTA_Fall_Route_28_Bus_Ridership_2016_2019.csv")
Route_28<-read.csv(text=x)
plot_28 <- ggplot(Route_28, aes(x=average_ons)) +
geom_density()
print(plot_28)
print(plot_28)
